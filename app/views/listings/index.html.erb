<p id="notice"><%= notice %></p>

<h1>Listings</h1>

<%= form_for_filterrific @filterrific, html: { id: 'filterrific-no-ajax-auto-submit' } do |f| %>
  <div>
    Country
    <%= f.select(
        :with_country,
        @filterrific.select_options[:with_country],
        { include_blank: '- Any -' }
        ) %>
  </div>

  <div>
    Sorted By
    <%= f.select(:sorted_by, @filterrific.select_options[:sorted_by]) %>
  </div>

  <div>
    Num of Beds
    <%= f.select(
        :with_num_bed, 
        @filterrific.select_options[:with_num_bed],
        { include_blank: '- Any -' }
        ) %>
  </div>

  <div>
    Search Title
    <%# give the search field the 'filterrific-periodically-observed' class for live updates %>
    <%= f.text_field(
      :search_query,
      class: 'filterrific-periodically-observed'
    ) %>
  </div>

  <br>

  <div>
    <%= link_to(
      'Reset filters',
      reset_filterrific_url,
    ) %>
  </div>

  <br>

  <%= f.submit 'Filter' %>
  
<% end %>

<%= render 'listings/listing', locals: { listings: @listings } %>


<br>

<%= link_to 'New Listing', new_listing_path %>
